(function(e,c,s){"use strict";const u=e.findByProps("getStickerSendability"),d=e.findByProps("isSendableSticker"),{getStickerAssetUrl:l}=e.findByProps("getStickerAssetUrl"),{ComponentDispatch:a}=e.findByProps("ComponentDispatch"),{closeExpressionPicker:n}=e.findByProps("closeExpressionPicker"),{getCurrentUser:S}=e.findByProps("getCurrentUser"),{input:t,disabled:o}=e.findByProps("disabled","tagLabel"),{stickerUnsendable:m}=e.findByProps("stickerUnsendable"),{stickerAsset:y}=e.findByProps("stickerAsset"),i=[];var f={onLoad(){if(S().premiumType==2)return c.showToast({title:"Users with Nitro cannot use FreeStickers.",duration:5e3});i.push(s.injectCSS(`.${m} {
            webkit-filter: grayscale(0%) !important;
            filter: grayscale(0%) !important;
        }`)),i.push(s.before("getStickerSendability",u,([r])=>{if(document.activeElement.className==t)return document.querySelector(`.${t}`).blur();if(!!document.querySelector(`.${y}:hover`))return r.format_type==3||r?.sort_value?n():(n(),a.dispatchToLastSubscribed("INSERT_TEXT",{content:` ${l(r).replace(/=[0-9]{3}/g,"=160")}`}))})),i.push(s.after("isSendableSticker",d,()=>{!document.querySelector(`.${t}`)&&!document.querySelector(`.${o}`)||(document.querySelector(`.${t}`)?.removeAttribute("disabled"),document.querySelector(`.${t}`).placeholder="Search for stickers",document.querySelector(`.${o}`)?.classList.remove(o))}))},onUnload(){i.forEach(r=>{r()})}};return f})(cumcord.modules.webpack,cumcord.ui.toasts,cumcord.patcher);
