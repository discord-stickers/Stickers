(function(e,r,t){"use strict";const s=e.findByProps("getStickerSendability"),{getStickerAssetUrl:o}=e.findByProps("getStickerAssetUrl"),{ComponentDispatch:i}=e.findByProps("ComponentDispatch"),{closeExpressionPicker:c}=e.findByProps("closeExpressionPicker"),{getCurrentUser:n}=e.findByProps("getCurrentUser"),d=e.findByProps("isSendableSticker"),{input:a,disabled:u}=e.findByProps("disabled","tagLabel"),{stickerUnsendable:l}=e.findByProps("stickerUnsendable"),{stickerAsset:p}=e.findByProps("stickerAsset"),S=[];return{onLoad(){if(2==n().premiumType)return r.showToast({title:"Users with Nitro cannot use FreeStickers.",duration:5e3});S.push(t.injectCSS(`.${l} {\n            webkit-filter: grayscale(0%) !important;\n            filter: grayscale(0%) !important;\n        }`)),S.push(t.before("getStickerSendability",s,(([e])=>{if(document.querySelector(`.${p}:hover`))return 3==e.format_type?c():(c(),i.dispatchToLastSubscribed("INSERT_TEXT",{content:` ${o(e).replace(/=[0-9]{3}/g,"=160")}`}))}))),S.push(t.after("isSendableSticker",d,(()=>{(document.querySelector(`.${a}`)||document.querySelector(`.${u}`))&&(document.querySelector(`.${a}`)?.removeAttribute("disabled"),document.querySelector(`.${a}`).placeholder="Search for stickers",document.querySelector(`.${u}`)?.classList.remove(u))})))},onUnload(){S.forEach((e=>{e()}))}}})(cumcord.modules.webpackModules,cumcord.ui.toasts,cumcord.patcher);